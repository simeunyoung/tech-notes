---
title: Vercel 배포 전에 막혔던 문제: ESLint 9와 Node.js 버전
date: 2025-12-20
tags:
  - devops
  - troubleshooting
summary: Vercel 배포 문제로 보였지만 실제로는 git commit 단계에서 발생한 로컬 개발 환경 이슈였다.
---

## 1. 문제 상황 : 커밋이 안된다.

Vercel 배포 과정에서 문제가 생긴 줄 알았지만,  
실제로는 **배포 이전 단계인 `git commit` 시점**에서 작업이 막혔다.

- 코드 수정 후 커밋 시도
- 커밋이 정상적으로 완료되지 않음

---

## 2. 에러 로그 분석

```bash
ESLint: 9.x
ConfigError: structuredClone is not defined
husky - pre-commit script failed (code 1)
```

---

### 왜 발생했을까?

에러 메시지의 핵심인 structuredClone은 자바스크립트의 깊은 복사를 수행하는 최신 API입니다.

ESLint 9.x: 최신 업데이트를 통해 내부적으로 structuredClone을 사용하기 시작함.

Node.js 16.x: 이 버전은 해당 API를 지원하지 않음 (Node.js 17+ 필요).

결론: ESLint 라이브러리는 최신인데, 실행 엔진(Node)이 낮아서 발생한 런타임 호환성 문제.

---

## 3. 해결 방법: Node.js 버전 업그레이드

해결책은 간단했습니다. 로컬 환경의 Node.js 버전을 20 버전(LTS)으로 끌어올리는 것이었습니다.

Step 1: 버전 변경 (NVM 사용)
Bash

nvm install 20
nvm use 20
